{"version":3,"sources":["../../../../assets/Script/assets/Script/GameScene.js"],"names":["BAOZI","COLORSEQ","COLOR","SEQ","PAIR","SINGLE","TEN","J","Q","K","A","types","cardShape1","cardShape2","cardValue1","cardValue2","result1","result2","temp","temp1","cc","Class","extends","Component","properties","cardNodes","default","type","Node","OptionMenu","cards","NumberSprites","Sprite","TypeSprite","TypeBigSprite","MaskSprite","cardBG","btnPack","Button","btnSideShow","btnSeeCards","btnStart","btnNextRound","typeSpriteurl","SpriteFrame","typBigurl","numberSUrl","compareResult","Label","showTypeResult0","selfwinnerSprite","bankwinnerSprite","deskWinner1Animation","Animation","cardBack","cardBlock","start","onload","node","active","i","sideShow","onbtnCLick","event","cusutomData","onbtnpackCard","onbtnsideShow","onbtnSeeCards","onbtnNextRound","nextRound","countTime","scheduleOnce","dropCards","spriteFrame","scaleTo","moveTo","v2","runAction","sequence","scaleTo1","moveTo1","hideactive","tempcounts","position","angle","rotateTo","spawn","play","jadgeIsOrNotWinner","cardValue","unscheduleAllCallbacks","tempInt","schedule","string","setPosition","setScale","resetTable","isShow","Math","ceil","random","push","checkHandCard","sortCardANDType","temptypeBigSpriteIndex","j","checkHandType","CardHandValue","CardHandType","checkbaozi","checktonghuashun","checktonghua","checkshunzi","checkduizi","checkdanzhang","tempcount","handtype","handtype1","toString","tempvalue","tempvalue1","temptype","temptype1"],"mappings":"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","file":"GameScene.js","sourceRoot":"../../../../assets/Script","sourcesContent":["//import defines from './define'\r\n//import cardnode from './card-node'\r\n\r\nconst BAOZI = 60;       //豹子\r\nconst COLORSEQ = 50;    //同花顺\r\nconst COLOR = 40;       //同花    \r\nconst SEQ = 30;         //顺子\r\nconst PAIR = 20;        //对子\r\nconst SINGLE = 10;      //单张\r\nconst TEN = 10;\r\nconst J = 11;\r\nconst Q = 12;\r\nconst K = 13;\r\nconst A = 14;\r\nvar types= {\r\n    '60': \"TRAIL\",\r\n    '50': \"PURE SEQUENCE\",\r\n    '40': \"SEQUENCE\",\r\n    '30': \"COLOR\",\r\n    '20': \"PAIR\",\r\n    '10': \"HIGH CARD\",\r\n};\r\nvar cardShape1 = [];\r\nvar cardShape2 = [];\r\nvar cardValue1 = [];\r\nvar cardValue2 = [];\r\nvar result1 = 0;\r\nvar result2 = 0;\r\nvar temp = 0;\r\nvar temp1 = 0;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       cardNodes:{\r\n            default : [],\r\n            type : cc.Node\r\n       },\r\n       OptionMenu:{\r\n            default : null,\r\n            type : cc.Node\r\n       },\r\n       cards:{\r\n            default : [],\r\n            type : cc.Node\r\n       },\r\n       NumberSprites:{\r\n            default : [],\r\n            type : cc.Sprite\r\n       },\r\n       TypeSprite:{\r\n            default : [],\r\n            type : cc.Sprite\r\n       },\r\n       TypeBigSprite:{\r\n            default : [],\r\n            type : cc.Sprite\r\n       },\r\n       MaskSprite:{\r\n            default : [],\r\n            type : cc.Sprite\r\n       },\r\n       cardBG:{\r\n            default : [],\r\n            type : cc.Sprite\r\n       },\r\n       btnPack:{\r\n            default : null,\r\n            type : cc.Button\r\n       },\r\n       btnSideShow:{\r\n            default : null,\r\n            type : cc.Button\r\n       },\r\n       btnSeeCards:{\r\n            default : null,\r\n            type : cc.Button\r\n       },\r\n       btnStart:{\r\n        default : null,\r\n        type : cc.Button\r\n       },\r\n       btnNextRound:{\r\n            default : null,\r\n            type : cc.Button\r\n       }, \r\n       typeSpriteurl:{\r\n            default : [],\r\n            type: cc.SpriteFrame\r\n       },\r\n       typBigurl:{\r\n            default : [],\r\n            type : cc.SpriteFrame\r\n       },\r\n       numberSUrl:{\r\n            default : [],\r\n            type : cc.SpriteFrame\r\n       },\r\n       compareResult:{\r\n            default : null, \r\n            type : cc.Label\r\n       },\r\n       showTypeResult0:{\r\n            default : null,\r\n            type : cc.Label\r\n       },\r\n       selfwinnerSprite:{\r\n            default : null,\r\n            type : cc.Sprite\r\n       },\r\n       bankwinnerSprite:{\r\n            default : null,\r\n            type : cc.Sprite\r\n       },\r\n       deskWinner1Animation:{\r\n            default : null, \r\n            type : cc.Animation\r\n       },\r\n       cardBack:{\r\n            default : null,\r\n            type : cc.SpriteFrame\r\n       },\r\n       cardBlock:{\r\n            default : null,\r\n            type : cc.SpriteFrame\r\n       },\r\n    },\r\n\r\n  \r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        this.onload();\r\n    },\r\n\r\n    onload: function(){\r\n        this.btnNextRound.node.active = false;\r\n        this.btnSideShow.node.active = false;\r\n        this.btnPack.node.active = false;\r\n        this.compareResult.node.active = false;\r\n        this.showTypeResult0.node.active = false;\r\n        this.selfwinnerSprite.node.active = false;\r\n        this.bankwinnerSprite.node.active = false;\r\n        this.btnSeeCards.node.active = false;\r\n        \r\n        for(var i = 0 ; i < 6 ; i++){\r\n            this.MaskSprite[i].node.active = true;\r\n        }\r\n        \r\n        this.cardNodes[0].active = false;\r\n        this.cardNodes[1].active = false;\r\n        this.sideShow();\r\n    },\r\n\r\n    onbtnCLick:function(event,cusutomData){\r\n         switch(cusutomData){\r\n            case \"btnPack\":\r\n                this.onbtnpackCard();\r\n                break;\r\n            case \"btnsideShow\":\r\n                this.onbtnsideShow();\r\n                break;\r\n            case \"btnSeeCards\":\r\n                this.onbtnSeeCards();\r\n                break;\r\n            case \"btnNextRound\":\r\n                this.onbtnNextRound();\r\n                break;\r\n            case \"btnStart\":\r\n                this.nextRound();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    //重新洗牌并且发牌\r\n    onbtnpackCard:function()\r\n    {\r\n        this.countTime();\r\n        this.scheduleOnce(function(){this.btnNextRound.node.active = true;},3);\r\n        this.dropCards();\r\n    },\r\n    dropCards :function(){\r\n    \r\n        this.btnSideShow.node.active = false;\r\n        this.btnPack.node.active = false;\r\n        this.btnSeeCards.node.active = false;\r\n        /* if(!this.MaskSprite[0].node.active){\r\n            for(var i = 0 ; i < 6 ; i++){\r\n                this.MaskSprite[i].spriteFrame = this.cardBlock;\r\n                this.MaskSprite[i].node.active = true;\r\n                // this.schedule(function(){this.MaskSprite[i].runAction(cc.sequence(cc.fadeOut(1)));},1);                \r\n            }\r\n        } */\r\n\r\n        for(var i = 0 ; i < 6 ; i++){\r\n            this.MaskSprite[i].spriteFrame = this.cardBlock;\r\n            this.MaskSprite[i].node.active = true;\r\n            this.cardBG[i].node.active = true;\r\n            this.NumberSprites[i].node.active = true;\r\n            this.TypeSprite[i].node.active = true;\r\n            this.TypeBigSprite[i].node.active = true;\r\n            // this.schedule(function(){this.MaskSprite[i].runAction(cc.sequence(cc.fadeOut(1)));},1);                \r\n        }\r\n\r\n        var scaleTo = cc.scaleTo(0.3,0);\r\n        var moveTo = cc.moveTo(0.3,cc.v2(0,150));\r\n        this.cardNodes[0].runAction(cc.sequence(moveTo,scaleTo,null)); //逐步执行动画\r\n\r\n        var scaleTo1 = cc.scaleTo(0.3,0);\r\n        var moveTo1 = cc.moveTo(0.3,cc.v2(0,-150));\r\n        this.cardNodes[1].runAction(cc.sequence(moveTo1,scaleTo1,null)); //逐步执行动画\r\n    \r\n        this.hideactive(false);\r\n        \r\n        this.sideShow();\r\n    },\r\n\r\n    /*按钮响应函数*/\r\n    onbtnsideShow:function()\r\n    {\r\n        this.btnSideShow.node.active = false;\r\n        this.btnPack.node.active = false;\r\n        \r\n\r\n        this.sideShow();      \r\n\r\n        \r\n        var tempcounts = 0;\r\n        if(!this.MaskSprite[0].node.active)\r\n        {\r\n            tempcounts = 3;\r\n        }else{\r\n            tempcounts = 0;\r\n        }\r\n\r\n        for(var i =0;i<6;i++){\r\n            this.MaskSprite[i].node.active = false;\r\n            this.cardBG[i].node.active = true;\r\n            this.NumberSprites[i].node.active = true;\r\n            this.TypeSprite[i].node.active = true;\r\n            this.TypeBigSprite[i].node.active = true;\r\n        }\r\n       \r\n        for(var i = tempcounts; i<6;i++){\r\n            this.cards[i].active = true;\r\n            this.cards[i].position=cc.v2(-60,0);\r\n            this.cards[i].angle=22;\r\n        }\r\n        var rotateTo = cc.rotateTo(0.2,0);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(0,18));\r\n        this.cards[1].runAction(cc.spawn(rotateTo,moveTo));\r\n        var rotateTo = cc.rotateTo(0.2,0);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(0,18));\r\n        this.cards[4].runAction(cc.spawn(rotateTo,moveTo));\r\n        var rotateTo = cc.rotateTo(0.2,-22);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(60,0));\r\n        this.cards[2].runAction(cc.spawn(rotateTo,moveTo));\r\n        var rotateTo = cc.rotateTo(0.2,-22);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(60,0));\r\n        this.cards[5].runAction(cc.spawn(rotateTo,moveTo));\r\n        this.scheduleOnce(function(){\r\n            this.deskWinner1Animation.node.active = true;\r\n            this.showTypeResult0.node.active = true;\r\n            this.deskWinner1Animation.play();\r\n            \r\n            switch(this.jadgeIsOrNotWinner()){\r\n        \r\n                case true:\r\n                    this.selfwinnerSprite.node.active = true;\r\n                    this.bankwinnerSprite.node.active = false;\r\n                    break;\r\n                case false:\r\n                    this.selfwinnerSprite.node.active = false;\r\n                    this.bankwinnerSprite.node.active = true;\r\n                    break;\r\n            }\r\n        },1);\r\n        \r\n        \r\n        \r\n\r\n        this.btnPack.node.active = false;\r\n        this.btnSideShow.node.active = false;\r\n        this.btnSeeCards.node.active = false;\r\n        this.scheduleOnce(function(){this.btnNextRound.node.active = true;},2);\r\n    },\r\n\r\n    onbtnSeeCards : function(){\r\n        this.cardValue();\r\n        this.sideShow();\r\n        for(var i = 0 ; i < 6 ; i++){\r\n            this.cardBG[i].node.active = true;\r\n            this.NumberSprites[i].node.active = true;\r\n            this.TypeSprite[i].node.active = true;\r\n            this.TypeBigSprite[i].node.active = true;\r\n            if(i <3){\r\n                this.MaskSprite[i].spriteFrame = this.cardBack;\r\n                this.MaskSprite[i].node.active = false;\r\n              \r\n                // this.schedule(function(){this.MaskSprite[i].runAction(cc.sequence(cc.fadeOut(1)));},1);\r\n            }else{\r\n                this.MaskSprite[i].node.active = true;\r\n            }\r\n        }\r\n        for(var i =0; i<3;i++){\r\n            this.cards[i].active = true;\r\n            this.cards[i].position=cc.v2(-60,0);\r\n            this.cards[i].angle=22;\r\n        }\r\n        \r\n        var rotateTo = cc.rotateTo(0.2,0);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(0,18));\r\n        this.cards[1].runAction(cc.spawn(rotateTo,moveTo));\r\n        var rotateTo = cc.rotateTo(0.2,-22);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(60,0));\r\n        this.cards[2].runAction(cc.spawn(rotateTo,moveTo));\r\n        \r\n        this.btnSeeCards.node.active = false;\r\n        this.MaskSprite[0].node.active = false;\r\n        this.MaskSprite[1].node.active = false;\r\n        this.MaskSprite[2].node.active = false;\r\n        \r\n        \r\n        \r\n    },\r\n\r\n    onbtnNextRound : function(){\r\n        this.unscheduleAllCallbacks();\r\n        this.dropCards();\r\n        this.btnNextRound.node.active = false;\r\n        this.countTime();\r\n    },\r\n\r\n    countTime : function(){\r\n        var tempInt = 2;\r\n        this.schedule(function(){\r\n            if(tempInt > 0){\r\n                this.compareResult.node.active = true;\r\n                this.compareResult.string = \"The game starts counting down……\" + tempInt;\r\n \r\n            }else{\r\n                this.compareResult.node.active = false;\r\n                this.unscheduleAllCallbacks();\r\n                this.nextRound();\r\n            }\r\n\r\n            tempInt -=1; \r\n        },1);\r\n    },\r\n\r\n    nextRound: function(){\r\n        for(var i = 0 ; i < 6 ; i++){\r\n                this.MaskSprite[i].spriteFrame = this.cardBack;\r\n                 this.MaskSprite[i].node.active = true; \r\n                this.cardBG[i].node.active = false;\r\n                this.NumberSprites[i].node.active = false;\r\n                this.TypeSprite[i].node.active = false;\r\n                this.TypeBigSprite[i].node.active = false;\r\n                // this.schedule(function(){this.MaskSprite[i].runAction(cc.sequence(cc.fadeOut(1)));},1);\r\n        }\r\n        for(var i =1; i<3;i++){\r\n            this.cards[i].active = true;\r\n            //this.cards[i].setPosition(-60,0);\r\n            this.cards[i].position= cc.v2(-60,0);\r\n            this.cards[i].angle= 22;\r\n            //this.cards[i].setRotation(22);\r\n\r\n            this.cards[i+3].active = true;\r\n            //this.cards[i].setPosition(-60,0);\r\n            this.cards[i+3].position= cc.v2(-60,0);\r\n            this.cards[i+3].angle= 22;\r\n        }\r\n        var rotateTo = cc.rotateTo(0.2,0);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(0,18));\r\n        this.cards[1].runAction(cc.spawn(rotateTo,moveTo));\r\n        var rotateTo = cc.rotateTo(0.2,0);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(0,18));\r\n        this.cards[4].runAction(cc.spawn(rotateTo,moveTo));\r\n        var rotateTo = cc.rotateTo(0.2,-22);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(60,0));\r\n        this.cards[2].runAction(cc.spawn(rotateTo,moveTo));\r\n        var rotateTo = cc.rotateTo(0.2,-22);\r\n        var moveTo = cc.moveTo(0.2,cc.v2(60,0));\r\n        this.cards[5].runAction(cc.spawn(rotateTo,moveTo));\r\n\r\n\r\n        this.btnStart.node.active =false;\r\n        this.btnSeeCards.node.active = true;\r\n        //this.scheduleOnce(function(){this.btnSeeCards.node.active = true;},1);\r\n        this.btnNextRound.node.active = false;\r\n        this.btnSideShow.node.active = true;\r\n        this.selfwinnerSprite.node.active = false;\r\n        this.deskWinner1Animation.node.active = false;\r\n        this.bankwinnerSprite.node.active = false;\r\n        this.selfwinnerSprite.node.active = false;\r\n        this.btnPack.node.active = true;\r\n \r\n        for(var i =0; i<2;i++){\r\n            this.cardNodes[i].active = true;\r\n            this.cardNodes[i].setPosition(0,0);\r\n            this.cardNodes[i].setScale(1);\r\n        }\r\n\r\n        for(var i = 0 ;i< 6;i++){\r\n            this.MaskSprite[i].spriteFrame = this.cardBack;\r\n            this.MaskSprite[i].node.active = true;\r\n        }\r\n        \r\n        this.resetTable();\r\n        this.cardValue();\r\n    },\r\n\r\n    hideactive: function(isShow){\r\n        this.compareResult.node.active = isShow;\r\n        this.showTypeResult0.node.active = isShow;\r\n        this.selfwinnerSprite.node.active = isShow;\r\n        this.bankwinnerSprite.node.active = isShow;\r\n        this.deskWinner1Animation.node.active = isShow;\r\n\r\n    },\r\n\r\n    /*发牌 */\r\n    cardValue:function(){\r\n        this.resetTable();\r\n        for(var i = 0; i < 3 ; i++){\r\n            /*玩家和庄家随机牌型*/\r\n            \r\n            temp = Math.ceil((0 + (3 - 1 + 1 ) * Math.random()));\r\n            temp1 = Math.ceil((0 + (3 - 1 + 1 ) * Math.random()));\r\n            cardShape1.push(temp);\r\n            cardShape2.push(temp1);\r\n            /*玩家和庄家随机牌值*/\r\n            temp = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\r\n            temp1 = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\r\n            cardValue1.push(temp);\r\n            cardValue2.push(temp1);\r\n            /*玩家和庄家牌值合算*/\r\n            result1 = result1 + cardValue1[i];\r\n            result2 = result2 + cardValue2[i];\r\n        }       \r\n        \r\n        this.checkHandCard();\r\n    },\r\n\r\n    /*玩家和庄家 手牌显示函数*/\r\n    sideShow:function(){\r\n        this.sortCardANDType(cardValue1,cardShape1);\r\n        this.sortCardANDType(cardValue2,cardShape2);\r\n        for(var i = 0 ;i < 3; i++){\r\n            this.TypeSprite[i+3].spriteFrame = this.typeSpriteurl[(cardShape2[i]-1)];\r\n            this.TypeSprite[i].spriteFrame = this.typeSpriteurl[(cardShape1[i]-1)];\r\n            var temptypeBigSpriteIndex = 3;\r\n            if(cardValue1[i] >J&& cardValue1[i] <A)\r\n            {\r\n                temptypeBigSpriteIndex += cardValue1[i] - TEN;\r\n                this.TypeBigSprite[i].spriteFrame = this.typBigurl[temptypeBigSpriteIndex];\r\n            }else{\r\n                this.TypeBigSprite[i].spriteFrame = this.typBigurl[(cardShape1[i]-1)];\r\n            }\r\n            \r\n            \r\n            if(cardValue2[i] >J&& cardValue2[i] <A)\r\n            {\r\n                temptypeBigSpriteIndex += cardValue2[i] - TEN;\r\n                this.TypeBigSprite[i+3].spriteFrame = this.typBigurl[temptypeBigSpriteIndex];\r\n            }else{\r\n                this.TypeBigSprite[i+3].spriteFrame = this.typBigurl[(cardShape2[i]-1)];\r\n            }\r\n            \r\n    \r\n            switch(cardShape1[i]){\r\n               case 1:\r\n               case 3:\r\n                   this.NumberSprites[i].spriteFrame = this.numberSUrl[(cardValue1[i]+11)];\r\n                   break;\r\n               case 2:\r\n               case 4:\r\n                    this.NumberSprites[i].spriteFrame = this.numberSUrl[(cardValue1[i])-2];\r\n                    break;\r\n               default:\r\n                   break;\r\n            }\r\n            switch(cardShape2[i]){\r\n                case 1:\r\n                case 3:\r\n                    this.NumberSprites[i+3].spriteFrame = this.numberSUrl[(cardValue2[i]+11)];\r\n                    break;\r\n                case 2:\r\n                case 4:\r\n                    this.NumberSprites[i+3].spriteFrame = this.numberSUrl[(cardValue2[i]-2)];\r\n                default:\r\n                    break;\r\n             }\r\n\r\n       }\r\n\r\n    },\r\n\r\n    /*检测双方手中有同样的牌  重复就重新发牌*/\r\n    checkHandCard:function(){\r\n        for(var i = 0;i<3;i++){\r\n            for(var j = 0; j <3 ;j++){\r\n                if(cardShape1[i] == cardShape2[j] && cardValue1[i] == cardValue2[j])\r\n                {\r\n                    this.cardValue();\r\n                }\r\n            }\r\n        }\r\n        \r\n        if(cardShape1[0] == cardShape1[1] && cardValue1[0] == cardValue1[1]){\r\n            temp = Math.ceil((1 + (3 - 1 + 1 ) * Math.random()));\r\n            temp1 = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\r\n            if(temp != cardShape1[0] && temp1 != cardValue1[0]){  \r\n               cardShape1[0] = temp;\r\n               cardValue1[0] = temp1;\r\n            }else{\r\n               this.cardValue();\r\n           }\r\n        }\r\n\r\n         if(cardShape1[0] == cardShape1[2] && cardValue1[0] == cardValue1[2]){\r\n             temp = Math.ceil((1 + (3 - 1 + 1 ) * Math.random()));\r\n             temp1 = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\r\n             if(temp != cardShape1[0] && temp1 != cardValue1[0]){\r\n                cardShape1[0] = temp;\r\n                cardValue1[0] = temp1;\r\n             }else{ \r\n                this.cardValue();\r\n            }\r\n         }\r\n         \r\n         if(cardShape1[1] == cardShape1[2] && cardValue1[1] == cardValue1[2]){\r\n            temp = Math.ceil((1 + (3 - 1 + 1 ) * Math.random()));\r\n            temp1 = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\r\n            if(temp != cardShape1[1] && temp1 != cardValue1[1]){\r\n               cardShape1[1] = temp;\r\n               cardValue1[1] = temp1;\r\n            }else{\r\n               this.cardValue();\r\n           }\r\n        }\r\n        if(cardShape2[0] == cardShape2[1] && cardValue2[0] == cardValue2[1]){\r\n            temp = Math.ceil((1 + (3 - 1 + 1 ) * Math.random()));\r\n            temp1 = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\r\n            if(temp != cardShape2[0] && temp1 != cardValue2[0]){\r\n               cardShape2[0] = temp;\r\n               cardValue2[0] = temp1;\r\n            }else{\r\n               this.cardValue();\r\n           }\r\n        }\r\n\r\n        if(cardShape2[0] == cardShape2[2] && cardValue2[0] == cardValue2[2]){\r\n            temp = Math.ceil((1 + (3 - 1 + 1 ) * Math.random()));\r\n            temp1 = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\r\n            if(temp != cardShape2[0] && temp1 != cardValue2[0]){\r\n               cardShape2[0] = temp;\r\n               cardValue2[0] = temp1;\r\n            }else{\r\n               this.cardValue();\r\n           }\r\n        }\r\n\r\n        if(cardShape2[1] == cardShape2[2] && cardValue2[1] == cardValue2[2]){\r\n            temp = Math.ceil((1 + (3 - 1 + 1 ) * Math.random()));\r\n            temp1 = Math.ceil((2 + (13 - 2 + 1 ) * Math.random()));\r\n            if(temp != cardShape2[0] && temp1 != cardValue2[0]){\r\n               cardShape2[1] = temp;\r\n               cardValue2[1] = temp1;\r\n            }else{\r\n               this.cardValue();\r\n           }\r\n        }        \r\n    },\r\n\r\n    /*检测手中牌型*/\r\n    checkHandType:function(CardHandValue,CardHandType){\r\n        if(this.checkbaozi(CardHandValue) > 0){\r\n            return BAOZI; \r\n        }else if(this.checktonghuashun(CardHandValue,CardHandType) > 0){\r\n            return COLORSEQ; \r\n        }else if(this.checktonghua(CardHandType) > 0){\r\n            return COLOR; \r\n        }else if(this.checkshunzi(CardHandValue) > 0){\r\n            return SEQ;\r\n        }else if(this.checkduizi(CardHandValue) > 0){\r\n            return PAIR; \r\n        }else if(this.checkdanzhang(CardHandValue) > 0){\r\n            return SINGLE; \r\n        }\r\n    },\r\n\r\n    /*检测豹子*/\r\n    checkbaozi: function(CardHandValue){\r\n        \r\n        if(CardHandValue[0] == CardHandValue[1] && CardHandValue[1] == CardHandValue[2]){\r\n            //cc.log(\"豹子\");\r\n            return 60;\r\n        }else{\r\n            return 0;\r\n        }\r\n    },\r\n\r\n    /*检测同花顺*/\r\n    checktonghuashun: function(CardHandValue,CardHandType){\r\n        \r\n        if((CardHandValue[0] + 1 == CardHandValue[1] + 1 &&  CardHandValue[1] + 1 == CardHandValue[2])){\r\n            if(CardHandType[0] == CardHandType[1] && CardHandType[1] == CardHandType[2]){\r\n                //cc.log(\"同花顺\");\r\n                return 50;\r\n            }\r\n        }else{\r\n            return 0;\r\n        }\r\n        \r\n    },\r\n\r\n    /*检测同花*/\r\n    checktonghua: function(CardHandType){\r\n       \r\n        if(CardHandType[0] == CardHandType[1] && CardHandType[1] == CardHandType[2]){\r\n            //cc.log(\"同花\");\r\n            return 40;\r\n        }else{\r\n            return 0;\r\n        }\r\n        \r\n    },\r\n\r\n    /*检测顺子*/\r\n    checkshunzi : function(CardHandValue){\r\n        if(CardHandValue[0] + 1 == CardHandValue[1] && CardHandValue[1] + 1 == CardHandValue[2]){\r\n            //cc.log(\"顺子\");\r\n            return 30;\r\n        }else{\r\n            return 0;\r\n        }\r\n    },\r\n\r\n    /*检测对子*/\r\n    checkduizi : function(CardHandValue){\r\n        var tempcount = 0;\r\n\r\n        if(CardHandValue[0] == CardHandValue[1] || CardHandValue[0] == CardHandValue[2] || CardHandValue[1] == CardHandValue[2]){\r\n            tempcount += 1;\r\n        }\r\n\r\n        if(tempcount == 1){\r\n            //cc.log(\"对子\");\r\n             return 20;  \r\n        }else{\r\n            return 0;\r\n        }\r\n    },\r\n\r\n    /*检测单张*/\r\n    checkdanzhang : function(CardHandValue){\r\n        var tempcount = 0;\r\n        \r\n        if(CardHandValue[0] == CardHandValue[1] || CardHandValue[0] == CardHandValue[2] || CardHandValue[1] == CardHandValue[2]){\r\n            tempcount += 1;\r\n        }\r\n\r\n        if(tempcount == 0){\r\n            //cc.log(\"单张\");\r\n            return 10;  \r\n        }else{\r\n            return 0;\r\n        }\r\n    },\r\n\r\n    /*判断玩家是否为赢家*/\r\n    jadgeIsOrNotWinner:function(){\r\n        var handtype = this.checkHandType(cardValue1,cardShape1) ;\r\n        var handtype1 = this.checkHandType(cardValue2,cardShape2) ;\r\n        this.schedule(function(){},0.5);\r\n        \r\n        this.showTypeResult0.string = types[handtype.toString()];\r\n\r\n        if(handtype > handtype1){\r\n            return true;\r\n        }else if (handtype < handtype1){\r\n            return false;\r\n        }\r\n        else if (handtype == handtype1){\r\n            if(result1 > result2 ){\r\n                \r\n                return true;\r\n            }else{\r\n                return false;\r\n            }\r\n        }\r\n\r\n    },\r\n    \r\n    /*重置手牌数据*/\r\n    resetTable:function(){\r\n        cardShape1 = [];\r\n        cardShape2 = [];\r\n        cardValue1 = [];\r\n        cardValue2 = [];\r\n        temp = 0;\r\n        temp1 = 0;\r\n        result1 = 0;\r\n        result2 = 0;\r\n    },\r\n    \r\n    /*手牌排序*/\r\n    sortCardANDType:function(CardHandValue,CardHandType){\r\n        for(var i = 0;i<3;i++){\r\n            for (var j = 0 ; j+1<3-i ; j++)\r\n            if(CardHandValue[j] > CardHandValue[j+1]){\r\n                var tempvalue = CardHandValue[j];\r\n                var tempvalue1 = CardHandValue[j+1];\r\n                var temptype = CardHandType[j];\r\n                var temptype1 = CardHandType[j+1];  \r\n                CardHandValue[j] = tempvalue1;\r\n                CardHandValue[j+1] = tempvalue;\r\n                CardHandType[j] = temptype1;\r\n                CardHandType[j+1] = temptype;\r\n            }\r\n        }\r\n    }\r\n    //,update (dt) {},\r\n});\r\n\r\n"]}